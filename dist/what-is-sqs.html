<!DOCTYPE html><html lang="en" class="transform"><head>
    <meta charset="UTF-8">
    <link rel="icon" href="/favicon.svg">
    <!-- Preload front from google - it is faster than serving it from the Netlify CDN. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Meta data changed on build -->
    <title>What is SQS</title>
    <script type="module" crossorigin="" src="/assets/app.3d6c68a9.js"></script>
    <link rel="modulepreload" href="/assets/vendor.09be1bf3.js">
    <style>*,:before,:after{-webkit-box-sizing:border-box;box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb;}*{--tw-ring-inset:var(--tw-empty, );--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, .5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;}:root{-moz-tab-size:4;-o-tab-size:4;tab-size:4;}a{color:inherit;text-decoration:inherit;}body{margin:0;font-family:inherit;line-height:inherit;}html{-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:1.5;}h1{font-size:inherit;font-weight:inherit;}p,h1{margin:0;}svg{display:block;vertical-align:middle;}.prose{color:#374151;max-width:65ch;font-size:1rem;line-height:1.75;}.prose a{color:#111827;text-decoration:underline;font-weight:500;}.prose ol>li{position:relative;padding-left:1.75em;}.prose ol>li:before{content:counter(list-item,var(--list-counter-style, decimal)) ".";position:absolute;font-weight:400;color:#6b7280;left:0;}.prose h1{color:#111827;font-weight:800;font-size:2.25em;margin-top:0;margin-bottom:.8888889em;line-height:1.1111111;}.prose h2{color:#111827;font-weight:700;font-size:1.5em;margin-top:2em;margin-bottom:1em;line-height:1.3333333;}.prose code{color:#111827;font-weight:600;font-size:.875em;}.prose code:before{content:"`";}.prose code:after{content:"`";}.prose p{margin-top:1.25em;margin-bottom:1.25em;}.prose img{margin-top:2em;margin-bottom:2em;}.prose ol{margin-top:1.25em;margin-bottom:1.25em;list-style-type:none;}.prose li{margin-top:.5em;margin-bottom:.5em;}.prose>ol>li>*:first-child{margin-top:1.25em;}.prose>ol>li>*:last-child{margin-bottom:1.25em;}.prose h2+*{margin-top:0;}.prose>:first-child{margin-top:0;}.prose>:last-child{margin-bottom:0;}.prose-sm{font-size:.875rem;line-height:1.7142857;max-width:100%;color:inherit;}.prose-sm p{margin-top:1.1428571em;margin-bottom:1.1428571em;font-size:18px;}.prose-sm h1{font-size:2.1428571em;margin-top:0;margin-bottom:.8em;line-height:1.2;color:inherit;}.prose-sm h2{font-size:1.4285714em;margin-top:1.6em;margin-bottom:.8em;line-height:1.4;color:inherit;}.prose-sm img{margin-top:0;margin-bottom:0;}.prose-sm code{font-size:.8571429em;color:inherit;}.prose-sm ol{margin-top:1.1428571em;margin-bottom:1.1428571em;}.prose-sm li{margin-top:.2857143em;margin-bottom:.2857143em;}.prose-sm ol>li{padding-left:1.5714286em;}.prose-sm ol>li:before{left:0;}.prose-sm>ol>li>*:first-child{margin-top:1.1428571em;}.prose-sm>ol>li>*:last-child{margin-bottom:1.1428571em;}.prose-sm h2+*{margin-top:0;}.prose-sm>:first-child{margin-top:0;}.prose-sm>:last-child{margin-bottom:0;}.prose-sm a{color:inherit;font-weight:500;text-decoration:underline;}.prose-sm a:hover{color:inherit;}.prose-sm em{color:inherit;}@font-face{font-family:Dank Mono;src:url(/assets/DankMono-Bold.d89b0eba.woff2) format("woff2");font-weight:700;font-style:normal;font-display:swap;}@font-face{font-family:Dank Mono;src:url(/assets/DankMono-Italic.1a9414bc.woff2) format("woff2");font-weight:400;font-style:italic;font-display:swap;}@font-face{font-family:Dank Mono;src:url(/assets/DankMono-Regular.2fe2c7c9.woff2) format("woff2");font-weight:400;font-style:normal;font-display:swap;}:root{--nord0:#2e3440;--nord1:#3b4252;--nord2:#434c5e;--nord3:#4c566a;--nord4:#d8dee9;--nord5:#e5e9f0;--nord6:#eceff4;--nord7:#8fbcbb;--nord8:#88c0d0;--nord9:#81a1c1;--nord10:#5e81ac;--nord11:#bf616a;--nord12:#d08770;--nord13:#ebcb8b;--nord14:#a3be8c;--nord15:#b48ead;}html{--back:#22212C;--middle:#44475a;--front:#6272a4;--primary:#f8f8f2;--secondary:#ffb86c;--tertiary:#9580FF;--rose:#FF7AC6;--corn:#f1fa8c;--grass:#50fa7b;--muted:#6272a4;--highlight-primary:#ffb86c;--highlight-muted:#ffb86c;}.prose code{font-family:Dank Mono;font-size:18px;white-space:pre;-webkit-overflow-scrolling:touch;}.twemoji{display:inline-block;height:1em;width:1em;margin:0 .05em 0 .1em;}.native-emoji{display:none;}a:active{outline:2px solid transparent;outline-offset:2px;}a.header-anchor{float:left;margin-top:.125em;margin-left:-1.2em;padding-right:.5em;font-size:.85em;opacity:0;text-decoration:none;border:0!important;}a.header-anchor:hover,a.header-anchor:focus{text-decoration:none;}h2:hover .header-anchor,h2:focus .header-anchor{opacity:.5;}.prose a:hover{color:var(--secondary);}.prose a{-webkit-transition-property:background-color,border-color,color,fill,stroke;-o-transition-property:background-color,border-color,color,fill,stroke;transition-property:background-color,border-color,color,fill,stroke;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;-webkit-transition-duration:.3s;-o-transition-duration:.3s;transition-duration:.3s;}.prose ol{margin:0;padding:0;font-size:18px;}.prose ol li:before{font-weight:600;color:var(--primary);}.prose h1:focus,.prose h2:focus{outline:2px solid transparent;outline-offset:2px;}.prose img{max-width:100%;-o-object-fit:cover;object-fit:cover;}html,body,#app{margin:0;padding:0;font-family:Inter;}.space-x-6>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1.5rem * var(--tw-space-x-reverse));margin-left:calc(1.5rem * calc(1 - var(--tw-space-x-reverse)));}.bg-back{background-color:var(--back);}.hover\:bg-muted:hover{background-color:var(--muted);}.border-blade{--tw-border-opacity:1;border-color:rgba(80,250,123,var(--tw-border-opacity));}.border-muted{border-color:var(--muted);}.border-l-4{border-left-width:4px;}.border-b{border-bottom-width:1px;}.border-r{border-right-width:1px;}.cursor-pointer{cursor:pointer;}.flex{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;}.grid{display:-ms-grid;display:grid;}.flex-col{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;}.items-center{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.justify-center{-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.justify-between{-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}.flex-grow{-webkit-box-flex:1;-ms-flex-positive:1;-webkit-flex-grow:1;flex-grow:1;}.flex-shrink-0{-ms-flex-negative:0;-webkit-flex-shrink:0;flex-shrink:0;}.font-bold{font-weight:700;}.font-semibold{font-weight:600;}.h-6{height:1.5rem;}.h-0{height:0px;}.h-full{height:100%;}.h-screen{height:100vh;}.text-sm{font-size:.875rem;line-height:1.25rem;}.text-lg{font-size:1.125rem;line-height:1.75rem;}.\!text-base{font-size:1rem!important;line-height:1.5rem!important;}.\!text-3xl{font-size:1.875rem!important;line-height:2.25rem!important;}.m-auto{margin:auto;}.mx-auto{margin-left:auto;margin-right:auto;}.mb-8{margin-bottom:2rem;}.\!mb-3{margin-bottom:.75rem!important;}.max-w-3xl{max-width:48rem;}.overflow-hidden{overflow:hidden;}.overflow-scroll{overflow:scroll;}.p-4{padding:1rem;}.py-4{padding-top:1rem;padding-bottom:1rem;}.px-4{padding-left:1rem;padding-right:1rem;}.py-6{padding-top:1.5rem;padding-bottom:1.5rem;}.pl-8{padding-left:2rem;}.relative{position:relative;}[fill~=none]{fill:none;}.text-left{text-align:left;}.text-primary{color:var(--primary);}.hover\:text-blade:hover{--tw-text-opacity:1;color:rgba(80,250,123,var(--tw-text-opacity));}.text-nosferatu{--tw-text-opacity:1;color:rgba(34,33,44,var(--tw-text-opacity));}.hover\:text-secondary:hover{color:var(--secondary);}.\!text-primary{color:var(--primary)!important;}.w-6{width:1.5rem;}.w-full{width:100%;}.z-50{z-index:50;}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr));}.col-span-3{-ms-grid-column-span:span 3 / span 3;grid-column:span 3 / span 3;}.col-span-9{-ms-grid-column-span:span 9 / span 9;grid-column:span 9 / span 9;}.transform{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate:0;--tw-rotate-x:0;--tw-rotate-y:0;--tw-rotate-z:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;-webkit-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));-ms-transform:translateX(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotateZ(var(--tw-rotate-z)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));transform:translate(var(--tw-translate-x)) translateY(var(--tw-translate-y)) translateZ(var(--tw-translate-z)) rotate(var(--tw-rotate)) rotateX(var(--tw-rotate-x)) rotateY(var(--tw-rotate-y)) rotate(var(--tw-rotate-z)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)) scaleZ(var(--tw-scale-z));}.-rotate-90{--tw-rotate:-90deg;}.transition-colors{-webkit-transition-property:background-color,border-color,color,fill,stroke;-o-transition-property:background-color,border-color,color,fill,stroke;transition-property:background-color,border-color,color,fill,stroke;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);-o-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;}.duration-150{-webkit-transition-duration:.15s;-o-transition-duration:.15s;transition-duration:.15s;}@media (min-width: 1024px){.lg\:text-xl{font-size:1.25rem;line-height:1.75rem;}}</style><link rel="preload" href="/assets/app.918e7b3f.css" as="style">
  <link rel="modulepreload" crossorigin="" href="/assets/what-is-sqs.6b90037b.js"><link rel="modulepreload" crossorigin="" href="/assets/Post.3c6da465.js"><meta name="description" content="Nick Graffis's Personal Website"><meta property="og:title" content="What is SQS"><meta name="head:count" content="2"><link rel="preload" as="font" crossorigin="anonymous" href="/assets/DankMono-Bold.d89b0eba.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/assets/DankMono-Italic.1a9414bc.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/assets/DankMono-Regular.2fe2c7c9.woff2"><link rel="preload" as="font" crossorigin="anonymous" href="/assets/heroicons.1c0542d8.eot?#iefix"></head>
  <body class="text-primary bg-back">
    <div id="app" data-server-rendered="true"><div class="h-screen flex flex-col"><nav class="px-4 m-auto py-6 text-sm z-50 flex items-center justify-between w-full font-semibold text-nosferatu dark:text-cullen border-b border-muted"><a href="/" class="flex items-center justify-center h-full flex-shrink-0"><div class="relative"><svg class="" viewBox="0 0 99 66"><defs><linearGradient id="a" x1=".5" y1="33" x2="65.75" y2="33" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#3b3b3d"></stop><stop offset="1" stop-color="#cfd0d2"></stop></linearGradient><linearGradient id="b" x1="33.25" y1="33" x2="98.5" y2="33" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#396eb5"></stop><stop offset="1" stop-color="#20386c"></stop></linearGradient></defs><path d="M65.75 36A32.76 32.76 0 0 1 .5 36h7.77a25.24 25.24 0 0 0 24.86 22.51A25.26 25.26 0 0 0 58 36zM58 30A25.26 25.26 0 0 0 33.13 7.49 25.24 25.24 0 0 0 8.27 30H.5a32.76 32.76 0 0 1 65.25 0z" style="fill:url(#a);"></path><path d="M41 36a25 25 0 0 0 49.72 0h7.78a32.76 32.76 0 0 1-65.25 0zm-7.76-6a32.76 32.76 0 0 1 65.26 0h-7.77A25 25 0 0 0 41 30z" style="fill:url(#b);"></path></svg></div></a><div class="flex space-x-6 items-center text-lg"><a href="/posts" class="cursor-pointer lg:text-xl !text-base hover:text-secondary transition-colors duration-150"><p>AWS Documentation</p></a><a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/SQS.html" class="cursor-pointer lg:text-xl !text-base hover:text-secondary transition-colors duration-150"><p>AWS Documentation</p></a><a class="cursor-pointer lg:text-xl !text-base hover:text-secondary transition-colors duration-150"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1.2em" height="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 48 48"><g fill="none"><path d="M24 37c7.18 0 13-5.82 13-13s-5.82-13-13-13s-13 5.82-13 13s5.82 13 13 13z" stroke="currentColor" stroke-width="4" stroke-linejoin="round"></path><path d="M24 6a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M38.5 12a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M44.5 26.5a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M38.5 41a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M24 47a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M9.5 41a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M3.5 26.5a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path><path d="M9.5 12a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z" fill="currentColor"></path></g></svg></a></div></nav><div class="grid grid-cols-12 overflow-hidden flex-grow"><div class="col-span-3 overflow-scroll border-r border-muted"><div><!--[--><div class="w-full"><div><!--[--><div class="font-bold p-4 hover:bg-muted flex justify-between"><p>Setup</p><svg xmlns="http://www.w3.org/2000/svg" class="-rotate-90 h-6 w-6 transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div><div class="h-0 overflow-hidden"><!--[--><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Give Initial Lambdas Permission</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Create A Queue</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Create A Lambda</div></div><!--]--></div><!--]--></div></div><div class="w-full"><div><!--[--><div class="font-bold p-4 hover:bg-muted flex justify-between"><p>Sending A Message</p><svg xmlns="http://www.w3.org/2000/svg" class="-rotate-90 h-6 w-6 transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div><div class="h-0 overflow-hidden"><!--[--><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">The Sqs Sdk</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Our Dynamo Record</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Getting Started</div></div><!--]--></div><!--]--></div></div><div class="w-full"><div><!--[--><div class="font-bold p-4 hover:bg-muted flex justify-between"><p>Queuesystem</p><svg xmlns="http://www.w3.org/2000/svg" class="-rotate-90 h-6 w-6 transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div><div class="h-0 overflow-hidden"><!--[--><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Readme</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Instruct</div></div><!--]--></div><!--]--></div></div><div class="w-full"><div><!--[--><div class="font-bold p-4 hover:bg-muted flex justify-between"><p>Processing Messages</p><svg xmlns="http://www.w3.org/2000/svg" class="-rotate-90 h-6 w-6 transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div><div class="h-0 overflow-hidden"><!--[--><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Processing Tasks Of A Cluster</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Getting Started</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Advanced Features</div></div><!--]--></div><!--]--></div></div><div class="w-full"><div><!--[--><div class="font-bold p-4 hover:bg-muted flex justify-between"><p>Message Clusters</p><svg xmlns="http://www.w3.org/2000/svg" class="-rotate-90 h-6 w-6 transform" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div><div class="h-0 overflow-hidden"><!--[--><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Overview</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Our Global S3 Storage</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Our Dynamo Records</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Createing A Cluster</div></div><div class="w-full hover:text-blade"><div class="pl-8 py-4 border-blade">Behind The Hood</div></div><!--]--></div><!--]--></div></div><div class="w-full"><div class="border-l-4 p-4 border-blade hover:bg-muted">What Is Sqs</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Send Many Messages</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Send A Message</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Process A Task</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Process A Message</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted"></div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Create A Queue</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Create A Message Cluster</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">Create A Lambda</div></div><div class="w-full"><div class="p-4 border-blade hover:bg-muted">:All(.*)*</div></div><!--]--></div></div><div class="col-span-9 overflow-scroll h-full"><div class="prose prose-sm p-4 text-left mb-8 max-w-3xl mx-auto"><!-- TODO: Why sm? --><!-- Only show if there is a title or display included in the frontmatter --><h1 class="!mb-3 !text-3xl lg:!text-6xl !text-primary"><span>What is SQS</span></h1><!-- Only show if there is a date && duration inside the frontmatter --><!----><!--[--><div class="prose prose-sm text-left max-w-3xl mx-auto"><h2 id="%F0%9F%93%A4-amazon-simple-queue-service" tabindex="-1"><a class="header-anchor" href="#%F0%9F%93%A4-amazon-simple-queue-service" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">📤 Amazon Simple Queue Service</span><img class="twemoji" draggable="false" alt="📤" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/1f4e4.png"> Amazon Simple Queue Service </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">SQS is a durable, scaleable message queue that can support any volume of messages, and producers can push at any rate, and once the messages are enqueued into a queue, one of more consumers polls the queue to recieve those messages, and can recieve a batch of messages at the same request.</span> SQS is a durable, scaleable message queue that can support any volume of messages, and producers can push at any rate, and once the messages are enqueued into a queue, one of more consumers polls the queue to recieve those messages, and can recieve a batch of messages at the same request. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">::: success</span> ::: success </span><span class="emoji-wrapper"><span class="native-emoji">💡 To make this service easier to use, and work for </span><img class="twemoji" draggable="false" alt="💡" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/1f4a1.png"> To make this service easier to use, and work for </span><em><span class="emoji-wrapper"><span class="native-emoji">Model Match</span> Model Match </span></em><span class="emoji-wrapper"><span class="native-emoji"> specifically, we have the </span> specifically, we have the </span><code>Model Match Message API</code><span class="emoji-wrapper"><span class="native-emoji">.</span> . </span><span class="emoji-wrapper"><span class="native-emoji">:::</span> ::: </span></p><h2 id="at-least-once-delivery-and-visibility-timeout" tabindex="-1"><a class="header-anchor" href="#at-least-once-delivery-and-visibility-timeout" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">At least once delivery and visibility timeout</span> At least once delivery and visibility timeout </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">SQS has </span> SQS has </span><em><span class="emoji-wrapper"><span class="native-emoji">at least once delivery</span> at least once delivery </span></em><span class="emoji-wrapper"><span class="native-emoji"> semantics, meaning that the message will be recieved at least once. This is implemented through </span> semantics, meaning that the message will be recieved at least once. This is implemented through </span><em><span class="emoji-wrapper"><span class="native-emoji">Visability Timeouts</span> Visability Timeouts </span></em><span class="emoji-wrapper"><span class="native-emoji">. When a pollers polls a message the message will become invisible for a short period of time. If the consumer process the message, it is deleted, if they fail to process the message, it is not deleted and will be sent back to the queue. Once the </span> . When a pollers polls a message the message will become invisible for a short period of time. If the consumer process the message, it is deleted, if they fail to process the message, it is not deleted and will be sent back to the queue. Once the </span><em><span class="emoji-wrapper"><span class="native-emoji">Visability Timeouts</span> Visability Timeouts </span></em><span class="emoji-wrapper"><span class="native-emoji"> have expired, the message will be recieved again.</span> have expired, the message will be recieved again. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">::: warning</span> ::: warning </span><span class="emoji-wrapper"><span class="native-emoji">⚠️</span><img class="twemoji" draggable="false" alt="⚠️" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/26a0.png"></span><span class="emoji-wrapper"><span class="native-emoji"> If you set the Visibility Timeout to shorter than the time it takes for a batch of messages to be processed, you will run the risk of likely processing messages multiple times.</span> If you set the Visibility Timeout to shorter than the time it takes for a batch of messages to be processed, you will run the risk of likely processing messages multiple times. </span><span class="emoji-wrapper"><span class="native-emoji">:::</span> ::: </span></p><h2 id="lambda-poll-based-invocation" tabindex="-1"><a class="header-anchor" href="#lambda-poll-based-invocation" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">Lambda Poll Based Invocation</span> Lambda Poll Based Invocation </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">The lambda service polls, on our behalf, the sqs queue and if and when there is a message in the queue, only then does it invoke our code for the lambda function to run.</span> The lambda service polls, on our behalf, the sqs queue and if and when there is a message in the queue, only then does it invoke our code for the lambda function to run. </span></p><h2 id="sqs-to-lambda%3A-batching" tabindex="-1"><a class="header-anchor" href="#sqs-to-lambda%3A-batching" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">SQS to Lambda: Batching</span> SQS to Lambda: Batching </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">The lambda service will poll the queue for messages, and if there are any messages in the queue, it will invoke the lambda function and bring in a match of messages. This can scale automatically. The lambda function will then process the messages and then delete them from the queue.</span> The lambda service will poll the queue for messages, and if there are any messages in the queue, it will invoke the lambda function and bring in a match of messages. This can scale automatically. The lambda function will then process the messages and then delete them from the queue. </span></p><p><img src="/batching.png" alt="AWS SQS to Lambda: Batching"></p><p><span class="emoji-wrapper"><span class="native-emoji">::: success</span> ::: success </span><span class="emoji-wrapper"><span class="native-emoji">💡 Batching is set at the lambda level, and is extreamly cost effective. This will result is messages being processed faster, and less lambda invokations. Up to 10,000 messages can be processed at a time if we use batching properly.</span><img class="twemoji" draggable="false" alt="💡" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/1f4a1.png"> Batching is set at the lambda level, and is extreamly cost effective. This will result is messages being processed faster, and less lambda invokations. Up to 10,000 messages can be processed at a time if we use batching properly. </span><span class="emoji-wrapper"><span class="native-emoji">:::</span> ::: </span></p><h2 id="lambda-concurrency" tabindex="-1"><a class="header-anchor" href="#lambda-concurrency" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">Lambda Concurrency</span> Lambda Concurrency </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">With SQS each event is enqueued in a queue where they can be buffered and reate limited. And they have to ability to use batching, and we have the ability to rate limit this consumtion.</span> With SQS each event is enqueued in a queue where they can be buffered and reate limited. And they have to ability to use batching, and we have the ability to rate limit this consumtion. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">What if we are sending messages too quickly, and we have an issue with a downstream system, like DynamoDB or S3? Imagine we had 300 connections to the downstream system, and we are sending messages too quickly, and we have an issue with one of the connections.</span> What if we are sending messages too quickly, and we have an issue with a downstream system, like DynamoDB or S3? Imagine we had 300 connections to the downstream system, and we are sending messages too quickly, and we have an issue with one of the connections. </span></p><p><img src="/downstream_pressure.png" alt="AWS SQS to Lambda: Concurrency"></p><p><span class="emoji-wrapper"><span class="native-emoji">For these reasons we can rate limit the funciton consumtion. Per function we controll concurrency with </span> For these reasons we can rate limit the funciton consumtion. Per function we controll concurrency with </span><code>ReservedConcurrentExecutions</code><span class="emoji-wrapper"><span class="native-emoji">. This concurrency ceiling allows us to cap the speed at which we drain the queue.</span> . This concurrency ceiling allows us to cap the speed at which we drain the queue. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">::: danger</span> ::: danger </span><span class="emoji-wrapper"><span class="native-emoji">⛔️ It is possible that we could crash elastic search, or S3, or DynamoDB, or whatever, if we are sending messages too quickly.</span><img class="twemoji" draggable="false" alt="⛔️" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/26d4.png"> It is possible that we could crash elastic search, or S3, or DynamoDB, or whatever, if we are sending messages too quickly. </span><span class="emoji-wrapper"><span class="native-emoji">:::</span> ::: </span></p><h2 id="lambda-poller-scaling" tabindex="-1"><a class="header-anchor" href="#lambda-poller-scaling" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">Lambda Poller Scaling</span> Lambda Poller Scaling </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">Lambda runs a poller on our behalf, startin with concurrent batchs of 5 invocations at any moment. But if those invocations are running and there are more messges remain in the queue, than an additional 60 invokations each minuet afterwords; scaling all the way up until we drain the queue or we reach 1,000 max concurrent invokations. Assuming a match batch size of 10, that means that a single function paired with an SQS event source can process 10,000 messages in parrellel.</span> Lambda runs a poller on our behalf, startin with concurrent batchs of 5 invocations at any moment. But if those invocations are running and there are more messges remain in the queue, than an additional 60 invokations each minuet afterwords; scaling all the way up until we drain the queue or we reach 1,000 max concurrent invokations. Assuming a match batch size of 10, that means that a single function paired with an SQS event source can process 10,000 messages in parrellel. </span></p><h2 id="errors" tabindex="-1"><a class="header-anchor" href="#errors" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">Errors</span> Errors </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">If we send a message to the queue and the queue sends a batch of messages to the poller, and the poller spins up a lambda function. Lets say that 4 of the 5 messages are processed successfully, and the 5th message fails. This means that the lambda will stop and all of the messages will be sent back to the queue.</span> If we send a message to the queue and the queue sends a batch of messages to the poller, and the poller spins up a lambda function. Lets say that 4 of the 5 messages are processed successfully, and the 5th message fails. This means that the lambda will stop and all of the messages will be sent back to the queue. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">If the 1st message fails, the lambda will stop and all the message will be sent back to the queue. This means that either we will be processing messages more than once, or we will possibly never process messages.</span> If the 1st message fails, the lambda will stop and all the message will be sent back to the queue. This means that either we will be processing messages more than once, or we will possibly never process messages. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">To solve this issue, the </span> To solve this issue, the </span><code>Model Match Message API</code><span class="emoji-wrapper"><span class="native-emoji"> will do a couple things:</span> will do a couple things: </span></p><ol><li><span class="emoji-wrapper"><span class="native-emoji">It will try processing all messages, swallowing any errors, until all messages are processed, either succesfully, or rejected. We then manually delete all succesfully processed messages before we throw an error, allowing the </span> It will try processing all messages, swallowing any errors, until all messages are processed, either succesfully, or rejected. We then manually delete all succesfully processed messages before we throw an error, allowing the </span><em><span class="emoji-wrapper"><span class="native-emoji">poison message</span> poison message </span></em><span class="emoji-wrapper"><span class="native-emoji"> to be sent back to the queue.</span> to be sent back to the queue. </span></li><li><span class="emoji-wrapper"><span class="native-emoji">To ensure that we are not processing messages more than once, we check on each message processing weather or not the queue has already been processed. If it has, we will not process the message.</span> To ensure that we are not processing messages more than once, we check on each message processing weather or not the queue has already been processed. If it has, we will not process the message. </span></li></ol><h2 id="what-if-it-is-ok-for-my-messages-to-be-processed-multiple-times%3F" tabindex="-1"><a class="header-anchor" href="#what-if-it-is-ok-for-my-messages-to-be-processed-multiple-times%3F" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">🤔</span><img class="twemoji" draggable="false" alt="🤔" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/1f914.png"></span><span class="emoji-wrapper"><span class="native-emoji"> What if it is ok for my messages to be processed multiple times?</span> What if it is ok for my messages to be processed multiple times? </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">You can generally destructure the API to allow you to do this and anything else you want. The use case for this may be creating new history records, or updating existing ones. This process does not require huge amounts of processing power, and data will not be ruined if processed multiple times.</span> You can generally destructure the API to allow you to do this and anything else you want. The use case for this may be creating new history records, or updating existing ones. This process does not require huge amounts of processing power, and data will not be ruined if processed multiple times. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">The trade off is basically the time and resources it takes to run DyanmoDB looks ups are slowing down your processing, but are providing some benefit.</span> The trade off is basically the time and resources it takes to run DyanmoDB looks ups are slowing down your processing, but are providing some benefit. </span></p><h2 id="%F0%9F%99%85%E2%80%8D%E2%99%82%EF%B8%8F-error-handelilng" tabindex="-1"><a class="header-anchor" href="#%F0%9F%99%85%E2%80%8D%E2%99%82%EF%B8%8F-error-handelilng" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">🙅‍♂️ Error Handelilng</span><img class="twemoji" draggable="false" alt="🙅‍♂️" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/1f645-200d-2642-fe0f.png"> Error Handelilng </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">The </span> The </span><code>Model Match Message API</code><span class="emoji-wrapper"><span class="native-emoji"> processes messages in a way that it synchronously processes all messages, and if any message fails, it will throw an error after deleting the messages from the queue that succeded. This means that using this process will require almost no extra processing power.</span> processes messages in a way that it synchronously processes all messages, and if any message fails, it will throw an error after deleting the messages from the queue that succeded. This means that using this process will require almost no extra processing power. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">::: warning</span> ::: warning </span><span class="emoji-wrapper"><span class="native-emoji">⚠️</span><img class="twemoji" draggable="false" alt="⚠️" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/26a0.png"></span><span class="emoji-wrapper"><span class="native-emoji"> Use the </span> Use the </span><code>Model Match Message API</code><span class="emoji-wrapper"><span class="native-emoji"> for processing message batches in almost all cases.</span> for processing message batches in almost all cases. </span><span class="emoji-wrapper"><span class="native-emoji">:::</span> ::: </span></p><p><span class="emoji-wrapper"><span class="native-emoji">If you want to omit the use of Database writes and just process the messages, you are giving up the ability to check errors in Dynamo, meaning that any client side requirment to see errant messages will not be met. However, you can still find errored messages in the dead letter queue and you can go through logs to find specific errors.</span> If you want to omit the use of Database writes and just process the messages, you are giving up the ability to check errors in Dynamo, meaning that any client side requirment to see errant messages will not be met. However, you can still find errored messages in the dead letter queue and you can go through logs to find specific errors. </span></p><h2 id="%F0%9F%91%AB-getting-multiple-deliveries" tabindex="-1"><a class="header-anchor" href="#%F0%9F%91%AB-getting-multiple-deliveries" aria-hidden="true">#</a><span class="emoji-wrapper"><span class="native-emoji"></span></span><span class="emoji-wrapper"><span class="native-emoji">👫 Getting Multiple Deliveries</span><img class="twemoji" draggable="false" alt="👫" src="https://twemoji.maxcdn.com/v/13.1.0/72x72/1f46b.png"> Getting Multiple Deliveries </span></h2><p><span class="emoji-wrapper"><span class="native-emoji">The </span> The </span><code>Model Match Message API</code><span class="emoji-wrapper"><span class="native-emoji"> will check to make sure that a message hasn’t already been processed. It is possible, and out of our control, that a message will show up in the poller more than once, even though we are handeling messages errors.</span> will check to make sure that a message hasn’t already been processed. It is possible, and out of our control, that a message will show up in the poller more than once, even though we are handeling messages errors. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">To solve the trade off here, you can create the DynamoDB look up at only the queue lambda level. So you are not actually initializing a </span> To solve the trade off here, you can create the DynamoDB look up at only the queue lambda level. So you are not actually initializing a </span><code>Message Record</code><span class="emoji-wrapper"><span class="native-emoji"> until you see it the very first time. This reduces time and processing by 50%, if you do not need to be aware of the message in the database.</span> until you see it the very first time. This reduces time and processing by 50%, if you do not need to be aware of the message in the database. </span></p><p><span class="emoji-wrapper"><span class="native-emoji">The queue lambda will upsert the </span> The queue lambda will upsert the </span><code>Message Record</code><span class="emoji-wrapper"><span class="native-emoji"> to the database on the first invokation, and upsert it again on any further invokations. Deleting the record if the message processes succesfully.</span> to the database on the first invokation, and upsert it again on any further invokations. Deleting the record if the message processes succesfully. </span></p></div><!--]--></div></div></div></div></div>
    
    <script>
      /* Check prefere color scheme **/
      (function() {
        // Current themes are 🐧, 🧛🏻‍♂️, 🐺
        document.documentElement.classList.add(
          localStorage.getItem('theme') || '🧛🏻‍♂️',
        ) // Default theme is dracula
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        const setting = localStorage.getItem('color-schema') || 'auto'
        if (setting === 'dark' || (prefersDark && setting !== 'light'))
          document.documentElement.classList.toggle('dark', true)
      })()
    </script>
  

<link rel="stylesheet" href="/assets/app.918e7b3f.css"></body></html>