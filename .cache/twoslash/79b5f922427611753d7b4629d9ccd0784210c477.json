{"code":"\ntype Body = {\n  data: string,\n  moreData: number\n}\n\ntype MetaData = {\n  stuff: string\n}\n\nasync function processMessage(record: SQSRecord) {\n  const { id, body, url, getMessageRecord } = \n    readSQSRecord<Body, MetaData>(record)\n  \n  await updateMessageRecord<MetaData, Body>(\n    { pKey: `SQSMessage$${id}`, rKey: `SQSMessage$${url}` }, \n    (oldRecord) => {\n      return {\n        ...oldRecord,\n        meta: {\n          stuff: 'new stuff'\n        }\n      }\n    }\n  )\n}","extension":"ts","highlights":[],"queries":[],"staticQuickInfos":[{"text":"type Body = {\n    data: string;\n    moreData: number;\n}","docs":"","start":6,"length":4,"line":1,"character":5,"targetString":"Body"},{"text":"(property) data: string","docs":"","start":17,"length":4,"line":2,"character":2,"targetString":"data"},{"text":"(property) moreData: number","docs":"","start":33,"length":8,"line":3,"character":2,"targetString":"moreData"},{"text":"type MetaData = {\n    stuff: string;\n}","docs":"","start":58,"length":8,"line":6,"character":5,"targetString":"MetaData"},{"text":"(property) stuff: string","docs":"","start":73,"length":5,"line":7,"character":2,"targetString":"stuff"},{"text":"function processMessage(record: SQSRecord): Promise<void>","docs":"","start":105,"length":14,"line":10,"character":15,"targetString":"processMessage"},{"text":"(parameter) record: SQSRecord","docs":"","start":120,"length":6,"line":10,"character":30,"targetString":"record"},{"text":"(alias) interface SQSRecord\nimport SQSRecord","docs":"","start":128,"length":9,"line":10,"character":38,"targetString":"SQSRecord"},{"text":"const id: string | undefined","docs":"","start":151,"length":2,"line":11,"character":10,"targetString":"id"},{"text":"const body: Body","docs":"","start":155,"length":4,"line":11,"character":14,"targetString":"body"},{"text":"const url: string","docs":"","start":161,"length":3,"line":11,"character":20,"targetString":"url"},{"text":"const getMessageRecord: (consistentRead?: boolean | undefined) => Promise<MessageRecord<MetaData, any>>","docs":"","start":166,"length":16,"line":11,"character":25,"targetString":"getMessageRecord"},{"text":"function readSQSRecord<Body, MetaData, any>(record: SQSRecord): Response<MetaData, any, Body>","docs":"Parse the SQS record to gain access to helpful meta data and getters","start":192,"length":13,"line":12,"character":4,"targetString":"readSQSRecord"},{"text":"type Body = {\n    data: string;\n    moreData: number;\n}","docs":"","start":206,"length":4,"line":12,"character":18,"targetString":"Body"},{"text":"type MetaData = {\n    stuff: string;\n}","docs":"","start":212,"length":8,"line":12,"character":24,"targetString":"MetaData"},{"text":"(parameter) record: SQSRecord","docs":"","start":222,"length":6,"line":12,"character":34,"targetString":"record"},{"text":"function updateMessageRecord<MetaData, Body>(key: {\n    pKey: string;\n    rKey: string;\n}, record: MessageRecord<MetaData, any> | ((record: MessageRecord<MetaData, Body>) => MessageRecord<...>)): Promise<...>","docs":"","start":241,"length":19,"line":14,"character":8,"targetString":"updateMessageRecord"},{"text":"type MetaData = {\n    stuff: string;\n}","docs":"","start":261,"length":8,"line":14,"character":28,"targetString":"MetaData"},{"text":"type Body = {\n    data: string;\n    moreData: number;\n}","docs":"","start":271,"length":4,"line":14,"character":38,"targetString":"Body"},{"text":"(property) pKey: string","docs":"","start":284,"length":4,"line":15,"character":6,"targetString":"pKey"},{"text":"const id: string | undefined","docs":"","start":304,"length":2,"line":15,"character":26,"targetString":"id"},{"text":"(property) rKey: string","docs":"","start":310,"length":4,"line":15,"character":32,"targetString":"rKey"},{"text":"const url: string","docs":"","start":330,"length":3,"line":15,"character":52,"targetString":"url"},{"text":"(parameter) oldRecord: MessageRecord<MetaData, Body>","docs":"","start":345,"length":9,"line":16,"character":5,"targetString":"oldRecord"},{"text":"(parameter) oldRecord: MessageRecord<MetaData, Body>","docs":"","start":387,"length":9,"line":18,"character":11,"targetString":"oldRecord"},{"text":"(property) meta?: MetaData | undefined","docs":"","start":406,"length":4,"line":19,"character":8,"targetString":"meta"},{"text":"(property) stuff: string","docs":"","start":424,"length":5,"line":20,"character":10,"targetString":"stuff"}],"errors":[],"playgroundURL":"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBDAnmYcDKBFNBZYBnPAQwHNgBpYROAXjgANMd8jSASVgbzxigEsA7YgF86AKFEATYAGMANoSio5hAuh4DivAGa9gEgDwAVAHxxQMYPwl41fQXA6i4cMHwBuhC3AD6v7nc0dPQAuOENRIXEBCygtQmlUACk0AHkAOQcnOH8NbUQjYwAKLOcPWQBXYFDDABoSuEUweQSoAH5QwoBrSlCcwRq4MsrQwn5EAEoaU1HEOudnPDB44Hbs9XsAHzh+coBbACNgKCzx3vXiOAAyW1yggxMspag8YALCixAYULRz7V174wDRRuXhuI6rLo9OAzAZDKrQsaTajTRHVR4KF7vcxnAJA4AgsFtDrdRAjMawwgVeEzJEoiZkxARcSgSCwMw7XZwABKMmgEkMyFQjmccnK3CONDgAHJReKoFK5ggVJ1JVKYMqFVldswSKhaFLtQRdVKmaIWdB4JY9mpPGLMs5XMAAGKyXjEAAW8H1AAUuQBROBOgAyAEkAOIACUMmucAm9UAgxEUqn1IYyvpSYf9aDQMbg0gguyawC8+oAwilsN6g37DH680cE1BVX6uVyUlyTZEzeALezrT9bXgyxApPaXIoXW7PZKAAyKuMJpPMSUARln86yBaLshLergACYN4rG9BJQAWY9ZbgQMAoCSSgCsG9N5rZSBQcFwRtIPILUAMXB1UlGE4AAIVHKhaBmUxaGFFwKFJdAsG-FhyEoLIoEQ74UJ1UhEKyXgJBxDQsnKKBZBIwQtRLQhViAwgsn2SDvnOK4bkEP49H0CCJEQYwsg-eE-z5AUUGvdVYD0ABBL41gCCSh1YodFJgMURykZS1OHUdgC3QtiwsCRZKoi4th2WRZDIsAJE8GS5L6YgshZXhkxM+TSJFCB+DwPYYF4bzvALcp+DkjlDmOZxTyJBFEAAbQAXSZXgiz7DhkLQESALgIQ4C0BNOSlQgAHc8AAWnkA5bJNN94BURB+GkPKQukfzvLgcobLs1DdSywDaJA8lwMgwb+OKZwSVCdKwGwjzBAAbgaWbHJyxVFH-Yivzw4A+v0BjTC2QpCnWvlQh639eQAvbaIGXj+NpLafx2y7+vVW7IOMcY6lOOB40LXgXn0ablvORasKhFahFMdLFDUqB+AcBCoSlBUluRqUcpy8RRCE7l8EgHzXgY0aBjDWQIH2SkbGgoa7tG2Dx3Iyi5qch1ZsYc70MZZxwaQjntoI5x1TwTpVkcwiJDF84mJY4a+MEwVQj6sS9OcUgYE5vqOgLHyAYsUKeUISXQmYiBd1GB6-t2AGie23b9oE7sAHoACoXacF3foxVAYHdVBGAaF6EAgOBiEIARoWkBJVBgEO-dkMAtHKWQ4G1YDbOA0YH3VmI8A9uAAAEnkITl8UseAyrCP2MsDjbg5cb384L2HyJ8qvUEpvBeCatPCDgDO+60M9fdQQ00IRbOS1zvKz2IcnKdkGws9rvkPad0Qk8atqEcUI3GF2umadmLbgKP0n56p+njpenDMpen6eUWbzAYY8+Kap96+Oh-SfPgZi+IZJKZI6QAB0TxMQnQAiA-+Ewf7cA6hRVUAArLQnQJDyHmloE0Xlf5IygvQfmBA0LsA4FKLQEhyGEEoVKEQ0IbCELQoLfMz94BEWQag9BVCkFoMpPNbBzDcG80lAwXCRDdQkKlCgtBGCtDcOqrQlQGVOZMJ1vA4WKpaAhSkDofgeg4HwFxrQZWgoQFj11HADYWxjEoBAbKGImESyt3HM4Jmio2aUDcWjWY9R1GeJgZ4oSniiKhEgRIUx20QwSE8erTWN84CFFUXrSwhsHy0DiIvYAtJ6jOEKPVRqcBrrqiKA9Qo8F5jzBmh47J8xeaePKUROp8xXHVOcL3E2kFwlvRaXAGB7S+LQMgo0oWgohlrAUEZdyMCQHcHGfZUZMztJ9MQNM9U2l5mrPUrpJZKyhwaWAKM7chl7LbMObuCZMBRmdQzscnpHSrl2WMhc7pLk3JySmS8-AskDnPz8gFfgQUIAhTeR01RvzArBVCqM6K2zorVKEOMcYhQvpZEiM7J2cAyqYukOUGAmKyriFxofccA9TKKl2NAYAAARTwhBQjhSOKaXGDFqWn3HNwcoWgtCmVNHkpqm9Wp-InBAaOeBObXw2rfPqkx4KqPgOlBpty+IDFcaHEssS665VoPUXeEh94vR4oMk+hAWWECKKE8YWQsglXDvAe5Fh1V8kKcamln8xr1GBlCERTAnokKIiIIEs0vWcxIUzWhQgBj1EKGbCQUqpjOJqY4+G8bykgNTdGvqoy2nJvKWsDlXLpS6OKrmzl-Cc1YzLZEcpla4AWqEEAA","tags":[]}